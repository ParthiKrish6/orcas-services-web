(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"+6BZ":function(e,r,t){"use strict";t.r(r),t.d(r,"UploadScoreCardModule",(function(){return h}));var o=t("ofXK"),c=t("tyNb"),n=t("AytR"),s=t("fXoL"),a=t("tk/3");let i=(()=>{class e{constructor(e){this.http=e,this.baseUrl=n.a.apiUrl+"/api/v1/upload-scorecard"}uploadScoreCard(e){return this.http.post(""+this.baseUrl,e)}}return e.\u0275fac=function(r){return new(r||e)(s.dc(a.a))},e.\u0275prov=s.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=t("A5v8");function u(e,r){1&e&&(s.Vb(0,"div",4),s.Lc(1," PDF uploaded successfully! "),s.Ub())}function d(e,r){if(1&e&&(s.Vb(0,"div",5),s.Lc(1),s.Ub()),2&e){const e=s.lc();s.Bb(1),s.Nc(" Error uploading PDF: ",e.errorMessage," ")}}const p=[{path:"",component:(()=>{class e{constructor(e,r,t,o){this.http=e,this.uploadScoreCardService=r,this.authService=t,this.router=o,this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.errorMessage=""}ngOnInit(){"Y"===this.authService.getToken()||this.router.navigate(["/login"],{queryParams:{errMsg:"Login to Proceed"}})}onFileSelected(e){const r=e.target;r.files&&r.files.length>0&&(this.selectedFile=r.files[0],this.uploadSuccess=!1,this.uploadError=!1)}uploadFile(){if(this.selectedFile){const e=new FormData;e.append("file",this.selectedFile,this.selectedFile.name),this.uploadScoreCardService.uploadScoreCard(e).subscribe(e=>{console.log(e),this.uploadSuccess=!0,this.uploadError=!1,this.selectedFile=null},e=>{console.log(e),this.uploadError=!0,this.errorMessage=e.error?e.error.message:e.message||"An unknown error occurred during upload.",this.uploadSuccess=!1})}}}return e.\u0275fac=function(r){return new(r||e)(s.Pb(a.a),s.Pb(i),s.Pb(l.a),s.Pb(c.c))},e.\u0275cmp=s.Jb({type:e,selectors:[["app-upload-scorecard"]],decls:7,vars:2,consts:[["enctype","multipart/form-data","type","file","accept","application/pdf",3,"change"],[3,"click"],["class","success message",4,"ngIf"],["class","error message",4,"ngIf"],[1,"success","message"],[1,"error","message"]],template:function(e,r){1&e&&(s.Vb(0,"h2"),s.Lc(1,"Upload Scorecard"),s.Ub(),s.Vb(2,"input",0),s.hc("change",(function(e){return r.onFileSelected(e)})),s.Ub(),s.Vb(3,"button",1),s.hc("click",(function(){return r.uploadFile()})),s.Lc(4,"Upload PDF"),s.Ub(),s.Jc(5,u,2,0,"div",2),s.Jc(6,d,2,1,"div",3)),2&e&&(s.Bb(5),s.rc("ngIf",r.uploadSuccess),s.Bb(1),s.rc("ngIf",r.uploadError))},directives:[o.m],styles:['.message[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:4px;font-family:Arial,sans-serif;font-size:16px;line-height:1.5}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{margin-right:8px;font-weight:700}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2713"}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2717"}']}),e})()}];let f=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(r){return new(r||e)},imports:[[c.f.forChild(p)],c.f]}),e})();const g=[o.c,f];let h=(()=>{class e{}return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(r){return new(r||e)},imports:[g,o.c,f]}),e})()},A5v8:function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var o=t("fXoL");let c=(()=>{class e{getToken(){return localStorage.getItem("authToken")}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=o.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);