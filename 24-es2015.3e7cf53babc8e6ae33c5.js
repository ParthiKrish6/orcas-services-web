(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+6BZ":function(e,r,t){"use strict";t.r(r),t.d(r,"UploadScoreCardModule",(function(){return f}));var o=t("ofXK"),s=t("tyNb"),c=t("AytR"),n=t("fXoL"),i=t("tk/3");let a=(()=>{class e{constructor(e){this.http=e,this.baseUrl=c.a.apiUrl+"/api/v1/upload-scorecard"}uploadScoreCard(e){return this.http.post(""+this.baseUrl,e)}}return e.\u0275fac=function(r){return new(r||e)(n.dc(i.a))},e.\u0275prov=n.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=t("A5v8"),d=t("JqCM");function u(e,r){1&e&&(n.Vb(0,"div",5),n.Lc(1," PDF uploaded successfully! "),n.Ub())}function p(e,r){if(1&e&&(n.Vb(0,"div",6),n.Lc(1),n.Ub()),2&e){const e=n.lc();n.Bb(1),n.Nc(" Error uploading PDF: ",e.errorMessage," ")}}const h=[{path:"",component:(()=>{class e{constructor(e,r,t,o,s){this.http=e,this.uploadScoreCardService=r,this.authService=t,this.spinnerService=o,this.router=s,this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.errorMessage=""}ngOnInit(){"Y"===this.authService.getToken()||this.router.navigate(["/login"],{queryParams:{errMsg:"Login to Proceed"}})}onFileSelected(e){const r=e.target;r.files&&r.files.length>0&&(this.selectedFile=r.files[0],this.uploadSuccess=!1,this.uploadError=!1)}uploadFile(){if(this.spinnerService.show(),this.selectedFile){const e=new FormData;e.append("file",this.selectedFile,this.selectedFile.name),this.uploadScoreCardService.uploadScoreCard(e).subscribe(e=>{console.log(e),this.uploadSuccess=!0,this.uploadError=!1,this.selectedFile=null},e=>{console.log(e),this.uploadError=!0,this.errorMessage=e.error?e.error.message:e.message||"An unknown error occurred during upload.",this.uploadSuccess=!1}),this.spinnerService.hide()}}}return e.\u0275fac=function(r){return new(r||e)(n.Pb(i.a),n.Pb(a),n.Pb(l.a),n.Pb(d.c),n.Pb(s.c))},e.\u0275cmp=n.Jb({type:e,selectors:[["app-upload-scorecard"]],decls:8,vars:2,consts:[["enctype","multipart/form-data","type","file","accept","application/pdf",3,"change"],[3,"click"],["class","success message",4,"ngIf"],["class","error message",4,"ngIf"],["type","timer"],[1,"success","message"],[1,"error","message"]],template:function(e,r){1&e&&(n.Vb(0,"h2"),n.Lc(1,"Upload Scorecard"),n.Ub(),n.Vb(2,"input",0),n.hc("change",(function(e){return r.onFileSelected(e)})),n.Ub(),n.Vb(3,"button",1),n.hc("click",(function(){return r.uploadFile()})),n.Lc(4,"Upload PDF"),n.Ub(),n.Jc(5,u,2,0,"div",2),n.Jc(6,p,2,1,"div",3),n.Qb(7,"ngx-spinner",4)),2&e&&(n.Bb(5),n.rc("ngIf",r.uploadSuccess),n.Bb(1),n.rc("ngIf",r.uploadError))},directives:[o.m,d.a],styles:['.message[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:4px;font-family:Arial,sans-serif;font-size:16px;line-height:1.5}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{margin-right:8px;font-weight:700}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2713"}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2717"}']}),e})()}];let g=(()=>{class e{}return e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({factory:function(r){return new(r||e)},imports:[[s.f.forChild(h)],s.f]}),e})();const b=[o.c,g,d.b];let f=(()=>{class e{}return e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({factory:function(r){return new(r||e)},imports:[b,o.c,g,d.b]}),e})()}}]);