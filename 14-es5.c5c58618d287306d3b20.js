function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"+6BZ":function(e,r,n){"use strict";n.r(r),n.d(r,"UploadScoreCardModule",(function(){return k}));var t,o=n("ofXK"),c=n("tyNb"),s=n("AytR"),i=n("fXoL"),a=n("tk/3"),l=((t=function(){function e(r){_classCallCheck(this,e),this.http=r,this.baseUrl=s.a.apiUrl+"/api/v1/upload-scorecard"}return _createClass(e,[{key:"uploadScoreCard",value:function(e){return this.http.post(""+this.baseUrl,e)}}]),e}()).\u0275fac=function(e){return new(e||t)(i.dc(a.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t),u=n("A5v8"),d=n("JqCM");function p(e,r){1&e&&(i.Vb(0,"div",5),i.Lc(1," PDF uploaded successfully! "),i.Ub())}function f(e,r){if(1&e&&(i.Vb(0,"div",6),i.Lc(1),i.Ub()),2&e){var n=i.lc();i.Bb(1),i.Nc(" Error uploading PDF: ",n.errorMessage," ")}}var h,b,g,v=[{path:"",component:(h=function(){function e(r,n,t,o,c){_classCallCheck(this,e),this.http=r,this.uploadScoreCardService=n,this.authService=t,this.spinnerService=o,this.router=c,this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.errorMessage=""}return _createClass(e,[{key:"ngOnInit",value:function(){"Y"===this.authService.getToken()||this.router.navigate(["/login"],{queryParams:{errMsg:"Login to Proceed"}})}},{key:"onFileSelected",value:function(e){var r=e.target;r.files&&r.files.length>0&&(this.selectedFile=r.files[0],this.uploadSuccess=!1,this.uploadError=!1)}},{key:"uploadFile",value:function(){var e=this;if(this.spinnerService.show(),this.selectedFile){var r=new FormData;r.append("file",this.selectedFile,this.selectedFile.name),this.uploadScoreCardService.uploadScoreCard(r).subscribe((function(r){console.log(r),e.uploadSuccess=!0,e.uploadError=!1,e.selectedFile=null}),(function(r){console.log(r),e.uploadError=!0,e.errorMessage=r.error?r.error.message:r.message||"An unknown error occurred during upload.",e.uploadSuccess=!1})),this.spinnerService.hide()}}}]),e}(),h.\u0275fac=function(e){return new(e||h)(i.Pb(a.a),i.Pb(l),i.Pb(u.a),i.Pb(d.c),i.Pb(c.c))},h.\u0275cmp=i.Jb({type:h,selectors:[["app-upload-scorecard"]],decls:8,vars:2,consts:[["enctype","multipart/form-data","type","file","accept","application/pdf",3,"change"],[3,"click"],["class","success message",4,"ngIf"],["class","error message",4,"ngIf"],["type","timer"],[1,"success","message"],[1,"error","message"]],template:function(e,r){1&e&&(i.Vb(0,"h2"),i.Lc(1,"Upload Scorecard"),i.Ub(),i.Vb(2,"input",0),i.hc("change",(function(e){return r.onFileSelected(e)})),i.Ub(),i.Vb(3,"button",1),i.hc("click",(function(){return r.uploadFile()})),i.Lc(4,"Upload PDF"),i.Ub(),i.Jc(5,p,2,0,"div",2),i.Jc(6,f,2,1,"div",3),i.Qb(7,"ngx-spinner",4)),2&e&&(i.Bb(5),i.rc("ngIf",r.uploadSuccess),i.Bb(1),i.rc("ngIf",r.uploadError))},directives:[o.m,d.a],styles:['.message[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:4px;font-family:Arial,sans-serif;font-size:16px;line-height:1.5}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{margin-right:8px;font-weight:700}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2713"}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2717"}']}),h)}],C=((b=function e(){_classCallCheck(this,e)}).\u0275mod=i.Nb({type:b}),b.\u0275inj=i.Mb({factory:function(e){return new(e||b)},imports:[[c.f.forChild(v)],c.f]}),b),m=[o.c,C,d.b],k=((g=function e(){_classCallCheck(this,e)}).\u0275mod=i.Nb({type:g}),g.\u0275inj=i.Mb({factory:function(e){return new(e||g)},imports:[m,o.c,C,d.b]}),g)},A5v8:function(e,r,n){"use strict";n.d(r,"a",(function(){return o}));var t=n("fXoL"),o=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getToken",value:function(){return localStorage.getItem("authToken")}}]),e}();return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=t.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}]);